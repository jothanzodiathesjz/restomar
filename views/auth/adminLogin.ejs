<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Restoran - Bootstrap Restaurant Template</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="keywords" />
    <meta content="" name="description" />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Nunito:wght@600;700;800&family=Pacifico&display=swap"
      rel="stylesheet"
    />

    <!-- Icon Font Stylesheet -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      href="
https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.min.css
"
      rel="stylesheet"
    />

    <!-- Libraries Stylesheet -->
    <link href="/plugin2/lib/animate/animate.min.css" rel="stylesheet" />
    <link
      href="/plugin2/lib/owlcarousel/assets/owl.carousel.min.css"
      rel="stylesheet"
    />
    <link
      href="/plugin2/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css"
      rel="stylesheet"
    />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="/plugin2/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Template Stylesheet -->
    <link href="/plugin2/css/style.css" rel="stylesheet" />
    <style>
      /* body{
            overflow-x: hidden;
        } */
    </style>
  </head>

  <body>
    <div class="container-fluid bg-white p-0">
      <section class="vh-100" style="background-color: #508bfc">
        <div class="container py-5 h-100">
          <div
            class="row d-flex justify-content-center align-items-center h-100"
          >
            <div class="col-12 col-md-8 col-lg-6 col-xl-5">
              <div class="card shadow-2-strong" style="border-radius: 1rem">
                <div id="loginForm" class="card-body p-5 text-center">
                  <h3 class="mb-5">Sign in</h3>

                  <div class="form-outline mb-4">
                    <input
                      type="text"
                      id="usernameAd"
                      class="form-control form-control-lg"
                    />
                    <label class="form-label" for="typeEmailX-2"
                      >Username</label
                    >
                  </div>

                  <div class="form-outline mb-4">
                    <input
                      type="password"
                      id="passwordAd"
                      class="form-control form-control-lg"
                    />
                    <label class="form-label" for="typePasswordX-2"
                      >Password</label
                    >
                  </div>

                  <button
                    class="btn btn-primary btn-lg btn-block"
                    type="submit"
                    onclick="adminLogin()"
                  >
                    Login
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="
https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.all.min.js
"></script>
    <script src="/plugin2/lib/wow/wow.min.js"></script>
    <script src="/plugin2/lib/easing/easing.min.js"></script>
    <script src="/plugin2/lib/waypoints/waypoints.min.js"></script>
    <script src="/plugin2/lib/counterup/counterup.min.js"></script>
    <script src="/plugin2/lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="/plugin2/lib/tempusdominus/js/moment.min.js"></script>
    <script src="/plugin2/lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="/plugin2/lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Template Javascript -->
    <script>
      function adminLogin() {
        const username = document.getElementById("usernameAd").value;
        const password = document.getElementById("passwordAd").value;

        const data = {
          username: username,
          password: password,
        };

        fetch("/admin-auth", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(data),
        })
          .then((response) => response.json())
          .then((result) => {
            if (result.statusCode === 200) {
              Swal.fire("Succes", "you are login now", "success");
              window.location.href = "/admin";
            } else {
              Swal.fire({
                icon: "error",
                title: "Oops...",
                text: "Wrong username and password",
              });
            }
            // Tanggapan dari server setelah login
            // Lakukan tindakan yang sesuai setelah login berhasil
          })
          .catch((error) => {
            console.error(error); // Tanggapan error dari server
            // Lakukan penanganan kesalahan yang sesuai
          });
      }

      const loginForm = document.getElementById("loginForm");
      loginForm.addEventListener("keydown", function (event) {
        if (event.key === "Enter") {
          event.preventDefault(); // Menghentikan perilaku default "submit" saat menekan tombol "Enter"
          // Lakukan aksi yang diinginkan saat menekan tombol "Enter"
          // Misalnya, panggil fungsi untuk melakukan submit atau aksi lainnya.
          adminLogin();
        }
      });
    </script>
  </body>
</html>
