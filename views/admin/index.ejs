<%- include('../partials/adminHeader') %> <%-
include('../partials/adminSidebar') %>
<main id="main" class="main">
  <!-- title page -->
  <div class="pagetitle">
    <h1>Dashboard</h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item active">Dashboard</li>
      </ol>
    </nav>
  </div>
  <!-- End Page Title -->

  <section class="section dashboard">
    <div class="row">
      <!-- Left side columns -->
      <div class="col-lg-12">
        <div class="row">
          <!-- Sales Card -->
          <div class="col-xxl-4 col-md-6">
            <div class="card info-card sales-card">
              <div class="card-body">
                <a href="/admin/food"><h1 class="card-title">Food</h1></a>

                <div class="d-flex align-items-center">
                  <div
                    class="card-icon rounded-circle d-flex align-items-center justify-content-center"
                  >
                    <i class="bi bi-egg"></i>
                  </div>
                  <div class="ps-3">
                    <h6 id="jfood"></h6>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- End Sales Card -->

          <!-- Revenue Card -->
          <div class="col-xxl-4 col-md-6">
            <div class="card info-card revenue-card">
              <div class="card-body">
                <a href="/admin/table"><h1 class="card-title">Table</h1></a>

                <div class="d-flex align-items-center">
                  <div
                    class="card-icon rounded-circle d-flex align-items-center justify-content-center"
                  >
                    <i class="bi bi-dash"></i>
                  </div>
                  <div class="ps-3">
                    <h6 id="jtable"></h6>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Revenue Card -->
          <div class="col-xxl-4 col-md-6">
            <div class="card info-card revenue-card">
              <div class="card-body">
                <a href="/admin/orders"><h1 class="card-title">Orders</h1></a>

                <div class="d-flex align-items-center">
                  <div
                    class="card-icon rounded-circle d-flex align-items-center justify-content-center"
                  >
                    <i class="bi bi-list-columns"></i>
                  </div>
                  <div class="ps-3">
                    <h6 id="jorders"></h6>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xxl-4 col-md-6">
            <div class="card info-card revenue-card">
              <div class="card-body">
                <a href="/admin/payment"><h1 class="card-title">Payment</h1></a>

                <div class="d-flex align-items-center">
                  <div
                    class="card-icon rounded-circle d-flex align-items-center justify-content-center"
                  >
                    <i class="bi bi-currency-dollar"></i>
                  </div>
                  <div class="ps-3">
                    <h6 id="jpayment"></h6>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Revenue Card -->
          <div class="col-xxl-4 col-md-6">
            <div class="card info-card revenue-card">
              <div class="card-body">
                <a href="/admin/users"><h1 class="card-title">Users</h1></a>

                <div class="d-flex align-items-center">
                  <div
                    class="card-icon rounded-circle d-flex align-items-center justify-content-center"
                  >
                    <i class="bi bi-person"></i>
                  </div>
                  <div class="ps-3">
                    <h6 id="jusers"></h6>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- End Revenue Card -->
        </div>
      </div>
      <!-- End Left side columns -->
    </div>
  </section>
</main>
<!-- End #main -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
  fetch("/admin/api/dashboard")
    .then((response) => response.json())
    .then((data) => {
      // Lakukan sesuatu dengan data yang diterima
      // console.log(data.data.dataFood);
      document.getElementById("jorders").innerText = data.data.dataOrder;
      document.getElementById("jpayment").innerText = data.data.dataPayment;
      document.getElementById("jusers").innerText = data.data.dataUser;
      document.getElementById("jfood").innerText = data.data.dataFood;
      document.getElementById("jtable").innerText = data.data.dataTable;
    })
    .catch((error) => {
      console.error("Terjadi kesalahan:", error);
    });
</script>

<%- include('../partials/adminFooter') %>
